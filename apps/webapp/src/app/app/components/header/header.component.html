<header
  class="h-header fixed top-0 left-0 z-30 flex w-full items-center bg-white py-2 shadow dark:bg-zinc-800"
>
  <button
    class="mx-4 h-6 w-6 shrink-0"
    [attr.aria-expanded]="expanded$ | async"
    (click)="toggleCollapse()"
    aria-controls="app-nav"
    type="button"
    aria-label="メニューを開閉する"
  >
    <uic-icon name="menu-2" />
  </button>

  <div class="mx-6 flex w-full">
    <div class="flex">
      <h1 class="text-3xl font-black">
        <img
          class="h-10 w-10"
          src="/assets/pugee.svg"
          alt="モンスターハンターライズ：サンブレイク ビルドシミュレーター"
        />
      </h1>
    </div>

    <div class="ml-auto flex items-center gap-4" *ngrxLet="user$ as user">
      <button
        class="rounded-full overflow-hidden border-white border w-8 aspect-square"
        type="button"
        [cdkMenuTriggerFor]="menu"
      >
        <img
          class="w-full h-auto"
          [attr.src]="user?.photoURL ?? '/assets/me.png'"
          alt="{{ user?.displayName }}"
        />
      </button>

      <ng-template #menu>
        <div cdkMenu class="flex flex-col">
          <button
            class="h-4 w-4"
            (click)="toggleMode()"
            aria-label="テーマを切り替える"
            cdkMenuItem
          >
            <uic-icon name="brightness" />
          </button>
          <button *ngIf="user; else anonymouse" (click)="signOut()" cdkMenuItem>ログアウト</button>
          <ng-template #anonymouse>
            <button (click)="signIn()" cdkMenuItem>ログイン</button>
          </ng-template>
        </div>
      </ng-template>
    </div>
  </div>
</header>
